using ui;
using midi;
using system;

let output_channel_ref = ref 0;
output_channel = get output_channel_ref;


channel    = ui::Slider "Output Channel" (output_channel+1) 1 16 (\v -> put output_channel_ref (v-1));
scale_root = ui::Segmented "Scale Root" 0 ["C","D","E","F","G","A","B"] (\v -> v); 
scale      = ui::Segmented "Scale" 0 ["Major", "Minor"] (\v -> v);
popup      = ui::PopUp "Options" 0 ["Harmonize", "Chordize"] (\v -> v);
checkbox   = ui::CheckBox "Did You Like It?" 1 (\v -> v);

create_ui = [channel,scale_root,scale, popup, checkbox];

process_midi_buffer buf::midi_buffer_t = map (\ep -> set_channel ep output_channel) buf;


